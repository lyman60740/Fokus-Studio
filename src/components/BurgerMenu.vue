<template>
    <div class="burgerMenu" ref="burgermenu">
        <div class="burgerMenu__nav">
          <button @click="handleServicesClick" v-show="!isMobileView">
        Nos services
      </button>
      <button @click="handleAgenceClick" v-show="!isMobileView">
        L'Agence
      </button>
      <router-link to="/contact"  @click="handleContactClick">
        Contactez-nous
      </router-link>
        </div>
        <div class="burgerMenu__reseaux">
            <a href="#" ref="link1" @mouseover="hoverSocialLink" @mouseleave="leaveSocialLink" >
              <svg width="11" height="21" viewBox="0 0 11 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M6.96875 20.5V11.3789H10.0547L10.4844 7.84375H6.96875V5.85156C6.96875 5.5651 6.97526 5.33398 6.98828 5.1582C7.0013 4.98242 7.02734 4.86849 7.06641 4.81641C7.06641 4.79036 7.07943 4.74805 7.10547 4.68945C7.13151 4.63086 7.16406 4.54948 7.20313 4.44531C7.32031 4.25 7.52865 4.10026 7.82813 3.99609C8.1276 3.89193 8.51172 3.83984 8.98047 3.83984H10.6406V0.65625C10.1979 0.604166 9.7487 0.565104 9.29297 0.539062C8.83724 0.513021 8.375 0.5 7.90625 0.5C6.98177 0.5 6.19401 0.669271 5.54297 1.00781C4.89193 1.34635 4.37109 1.84766 3.98047 2.51172C3.74609 2.88932 3.57357 3.29622 3.46289 3.73242C3.35221 4.16862 3.29688 4.63411 3.29688 5.12891V7.84375H0.25V11.3789H3.29688V20.5H6.96875Z" fill="#FFFFFF"/>
              </svg>
            </a>
            <a href="#" ref="link2" @mouseover="hoverSocialLink" @mouseleave="leaveSocialLink">
              <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14.293 5.5H16.2656V3.50781H14.293V5.5ZM10.2695 5.5C9.99609 5.5 9.72917 5.52604 9.46875 5.57812C9.20833 5.63021 8.95443 5.70182 8.70703 5.79297C8.44661 5.88411 8.19922 5.98828 7.96484 6.10547C7.73047 6.22266 7.5026 6.35286 7.28125 6.49609H2.26172V5.5C2.26172 5.08333 2.33333 4.69922 2.47656 4.34766C2.61979 3.99609 2.83464 3.67708 3.12109 3.39062C3.40755 3.10417 3.72982 2.88607 4.08789 2.73633C4.44596 2.58659 4.83333 2.51172 5.25 2.51172H15.25C15.6667 2.51172 16.054 2.58659 16.4121 2.73633C16.7702 2.88607 17.099 3.10417 17.3984 3.39062C17.6849 3.67708 17.903 3.99609 18.0527 4.34766C18.2025 4.69922 18.2773 5.08333 18.2773 5.5V6.49609H13.2383C13.0169 6.35286 12.7891 6.22266 12.5547 6.10547C12.3203 5.98828 12.0794 5.88411 11.832 5.79297C11.5977 5.70182 11.3503 5.63021 11.0898 5.57812C10.8294 5.52604 10.556 5.5 10.2695 5.5ZM10.2695 7.53125C10.6862 7.53125 11.0703 7.60286 11.4219 7.74609C11.7734 7.88932 12.0924 8.10417 12.3789 8.39062C12.6784 8.67708 12.903 8.99935 13.0527 9.35742C13.2025 9.7155 13.2773 10.1029 13.2773 10.5195C13.2773 10.9492 13.2025 11.3431 13.0527 11.7012C12.903 12.0592 12.6784 12.3815 12.3789 12.668C12.0924 12.9544 11.7734 13.166 11.4219 13.3027C11.0703 13.4395 10.6862 13.5078 10.2695 13.5078C9.85286 13.5078 9.46224 13.4395 9.09766 13.3027C8.73307 13.166 8.40755 12.9544 8.12109 12.668C7.82161 12.3815 7.60026 12.0592 7.45703 11.7012C7.3138 11.3431 7.24219 10.9492 7.24219 10.5195C7.24219 10.1029 7.3138 9.7155 7.45703 9.35742C7.60026 8.99935 7.82161 8.67708 8.12109 8.39062C8.40755 8.10417 8.73307 7.88932 9.09766 7.74609C9.46224 7.60286 9.85286 7.53125 10.2695 7.53125ZM15.25 18.5273H5.25C4.83333 18.5273 4.44596 18.4525 4.08789 18.3027C3.72982 18.153 3.40755 17.9349 3.12109 17.6484C2.83464 17.349 2.61979 17.0234 2.47656 16.6719C2.33333 16.3203 2.26172 15.9427 2.26172 15.5391V7.53125H6.24609C6.10286 7.7526 5.97266 7.98047 5.85547 8.21484C5.73828 8.44922 5.6276 8.6901 5.52344 8.9375C5.43229 9.1849 5.36393 9.4388 5.31836 9.69922C5.27279 9.95964 5.25 10.2331 5.25 10.5195C5.25 10.8711 5.28581 11.2064 5.35742 11.5254C5.42904 11.8444 5.52995 12.1602 5.66016 12.4727C5.79036 12.7721 5.94336 13.0521 6.11914 13.3125C6.29492 13.5729 6.49349 13.8203 6.71484 14.0547C6.9362 14.276 7.18034 14.4779 7.44727 14.6602C7.71419 14.8424 8.00391 14.9987 8.31641 15.1289C8.64193 15.2721 8.96745 15.3763 9.29297 15.4414C9.61849 15.5065 9.94401 15.5391 10.2695 15.5391C10.6211 15.5391 10.9596 15.5065 11.2852 15.4414C11.6107 15.3763 11.9232 15.2721 12.2227 15.1289C12.5352 14.9987 12.8216 14.8424 13.082 14.6602C13.3424 14.4779 13.5768 14.276 13.7852 14.0547C14.0065 13.8203 14.2051 13.5729 14.3809 13.3125C14.5566 13.0521 14.7096 12.7721 14.8398 12.4727C14.9701 12.1602 15.071 11.8444 15.1426 11.5254C15.2142 11.2064 15.25 10.8711 15.25 10.5195C15.25 10.2331 15.224 9.95964 15.1719 9.69922C15.1198 9.4388 15.0482 9.1849 14.957 8.9375C14.8659 8.6901 14.765 8.44922 14.6543 8.21484C14.5436 7.98047 14.4232 7.7526 14.293 7.53125H18.2773V15.5391C18.2773 15.9427 18.2025 16.3203 18.0527 16.6719C17.903 17.0234 17.6849 17.349 17.3984 17.6484C17.099 17.9349 16.7702 18.153 16.4121 18.3027C16.054 18.4525 15.6667 18.5273 15.25 18.5273ZM20.25 4.48438C20.25 3.92448 20.1556 3.41016 19.9668 2.94141C19.778 2.47266 19.4883 2.04297 19.0977 1.65234C18.7201 1.27474 18.2936 0.988281 17.8184 0.792969C17.3431 0.597656 16.8255 0.5 16.2656 0.5H4.23438C3.67448 0.5 3.16016 0.597656 2.69141 0.792969C2.22266 0.988281 1.79297 1.27474 1.40234 1.65234C1.02474 2.04297 0.738281 2.47266 0.542969 2.94141C0.347656 3.41016 0.25 3.92448 0.25 4.48438V16.5156C0.25 17.0755 0.347656 17.5931 0.542969 18.0684C0.738281 18.5436 1.02474 18.9701 1.40234 19.3477C1.79297 19.7383 2.22266 20.028 2.69141 20.2168C3.16016 20.4056 3.67448 20.5 4.23438 20.5H16.2656C16.8255 20.5 17.3431 20.4056 17.8184 20.2168C18.2936 20.028 18.7201 19.7383 19.0977 19.3477C19.4883 18.9701 19.778 18.5436 19.9668 18.0684C20.1556 17.5931 20.25 17.0755 20.25 16.5156V4.48438Z" fill="#FFFFFF"/>
              </svg>
            </a>
            <a href="#" ref="link3" @mouseover="hoverSocialLink" @mouseleave="leaveSocialLink">
              <svg width="29" height="21" viewBox="0 0 29 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14.8555 20.5C15.5586 20.5 16.3659 20.4967 17.2773 20.4902C18.1888 20.4837 19.2044 20.474 20.3242 20.4609C21.7956 20.3958 22.9544 20.3405 23.8008 20.2949C24.6471 20.2493 25.181 20.2005 25.4023 20.1484C25.7409 20.0964 26.0566 20.0085 26.3496 19.8848C26.6426 19.7611 26.8997 19.6081 27.1211 19.4258C27.3945 19.2044 27.6289 18.9505 27.8242 18.6641C28.0195 18.3776 28.1758 18.0651 28.293 17.7266C28.5143 17.1536 28.6836 16.3626 28.8008 15.3535C28.918 14.3444 28.9766 13.1172 28.9766 11.6719V9.34766C28.9766 8.67057 28.9538 7.95117 28.9082 7.18945C28.8626 6.42773 28.8008 5.6237 28.7227 4.77734C28.5924 4.1263 28.4362 3.56966 28.2539 3.10742C28.0716 2.64518 27.8568 2.27083 27.6094 1.98438C27.4661 1.85417 27.349 1.75326 27.2578 1.68164C27.1667 1.61003 27.1016 1.57422 27.0625 1.57422C26.8411 1.39193 26.597 1.24544 26.3301 1.13477C26.0632 1.02409 25.7799 0.949219 25.4805 0.910156C25.1419 0.845053 24.6667 0.786459 24.0547 0.734375C23.4297 0.682291 22.6712 0.639975 21.7793 0.607422C20.8874 0.574869 19.8555 0.545572 18.6836 0.519531C17.4987 0.50651 16.1836 0.5 14.7383 0.5C13.9701 0.5 13.153 0.503256 12.2871 0.509766C11.4212 0.516275 10.4935 0.532553 9.50391 0.558594C7.8763 0.610678 6.59375 0.666016 5.65625 0.724609C4.71875 0.783203 4.1263 0.845053 3.87891 0.910156C3.44922 0.988281 3.05208 1.13477 2.6875 1.34961C2.32292 1.56445 1.98438 1.84766 1.67188 2.19922C1.51562 2.42057 1.35612 2.74609 1.19336 3.17578C1.0306 3.60547 0.871094 4.13932 0.714844 4.77734C0.636719 5.6237 0.58138 6.42773 0.548828 7.18945C0.516276 7.95117 0.5 8.67057 0.5 9.34766C0.5 10.4414 0.509766 11.4212 0.529297 12.2871C0.548828 13.153 0.578125 13.8984 0.617188 14.5234C0.65625 15.1094 0.705078 15.5944 0.763672 15.9785C0.822266 16.3626 0.890625 16.6523 0.96875 16.8477C1.03385 17.1602 1.10221 17.4336 1.17383 17.668C1.24544 17.9023 1.3138 18.1042 1.37891 18.2734C1.60026 18.6771 1.89648 19.0254 2.26758 19.3184C2.63867 19.6113 3.07812 19.849 3.58594 20.0312L4.73828 20.168C4.88151 20.207 5.17122 20.2461 5.60742 20.2852C6.04362 20.3242 6.63281 20.3568 7.375 20.3828C8.23438 20.4089 9.02865 20.4284 9.75781 20.4414C10.5 20.4544 11.1836 20.4642 11.8086 20.4707C12.4336 20.4772 13 20.487 13.5078 20.5C14.0156 20.5 14.4648 20.5 14.8555 20.5ZM11.7891 14.1914V6.18359C11.8151 6.19661 11.9648 6.27474 12.2383 6.41797C12.5117 6.5612 12.9121 6.76953 13.4395 7.04297C13.9668 7.31641 14.6146 7.65495 15.3828 8.05859C16.151 8.46224 17.0495 8.93099 18.0781 9.46484C18.5339 9.71224 18.8757 9.89779 19.1035 10.0215C19.3314 10.1452 19.4453 10.2135 19.4453 10.2266L11.7891 14.1914Z" fill="#FFFFFF"/>
              </svg>
            </a>
            <a href="#" ref="link4" @mouseover="hoverSocialLink" @mouseleave="leaveSocialLink">
              <svg width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12.375 8.97656C12.375 8.95052 12.3783 8.93425 12.3848 8.92773C12.3913 8.92122 12.4076 8.91797 12.4336 8.91797V8.97656H12.375ZM5.32422 6.98438H0.753906V20.5H5.32422V6.98438ZM3.03906 5.10938C3.42969 5.10938 3.78125 5.05404 4.09375 4.94336C4.40625 4.83268 4.6862 4.66667 4.93359 4.44531C5.18099 4.22396 5.36654 3.97656 5.49023 3.70312C5.61393 3.42969 5.67578 3.13021 5.67578 2.80469C5.64974 2.46615 5.57161 2.1569 5.44141 1.87695C5.3112 1.59701 5.12891 1.35287 4.89453 1.14453C4.66016 0.923178 4.39648 0.760416 4.10352 0.65625C3.81055 0.552084 3.48177 0.5 3.11719 0.5C2.72656 0.5 2.375 0.552084 2.0625 0.65625C1.75 0.760416 1.47005 0.923178 1.22266 1.14453C0.988281 1.35287 0.809245 1.59701 0.685547 1.87695C0.561849 2.1569 0.5 2.46615 0.5 2.80469C0.5 3.13021 0.555339 3.42969 0.666016 3.70312C0.776693 3.97656 0.949219 4.22396 1.18359 4.44531C1.40495 4.66667 1.67188 4.83268 1.98438 4.94336C2.29688 5.05404 2.64844 5.10938 3.03906 5.10938ZM21.75 12.7852C21.75 11.7174 21.6263 10.7995 21.3789 10.0312C21.1315 9.26302 20.7669 8.63151 20.2852 8.13672C19.7904 7.64193 19.2305 7.27409 18.6055 7.0332C17.9805 6.79232 17.2904 6.67188 16.5352 6.67188C15.9102 6.67188 15.3698 6.73372 14.9141 6.85742C14.4583 6.98112 14.0807 7.17318 13.7812 7.43359C13.4948 7.69401 13.2376 7.94466 13.0098 8.18555C12.7819 8.42643 12.5898 8.67057 12.4336 8.91797V6.98438H7.88281V20.5H12.4336V12.9414C12.4336 12.8503 12.4336 12.7559 12.4336 12.6582C12.4336 12.5605 12.4336 12.4596 12.4336 12.3555C12.4336 12.2643 12.4434 12.1764 12.4629 12.0918C12.4824 12.0072 12.5052 11.9258 12.5312 11.8477C12.6354 11.6393 12.7559 11.4408 12.8926 11.252C13.0293 11.0632 13.1953 10.8841 13.3906 10.7148C13.5729 10.5456 13.791 10.4154 14.0449 10.3242C14.2988 10.2331 14.5951 10.1875 14.9336 10.1875C15.3372 10.1875 15.6823 10.2624 15.9688 10.4121C16.2552 10.5618 16.4831 10.7799 16.6523 11.0664C16.8346 11.3529 16.9681 11.6849 17.0527 12.0625C17.1374 12.4401 17.1797 12.8503 17.1797 13.293V20.5H21.75V12.7852Z" fill="#FFFFFF"/>
              </svg>
            </a>
        </div>
    </div>
  </template>
  
  <script>
import { gsap } from 'gsap';

export default {
  name: 'BurgerMenu',
  mounted() {
  this.enterAnimation();
},
beforeUnmount() {
  this.leaveAnimation();
},
  methods: {
    handleServicesClick() {
      this.$emit('menu-item-clicked');
    if (this.$route.name === 'HomeView') {
      const element = document.querySelector('#services');
      if (element) {
        element.scrollIntoView({ behavior: 'smooth' });
      }
    } else {
      this.$router.push({ name: 'HomeView', hash: '#services' });
    }
  },
  handleAgenceClick() {
    this.$emit('menu-item-clicked');
    if (this.$route.name === 'HomeView') {
      const element = document.querySelector('#agence');
      if (element) {
        element.scrollIntoView({ behavior: 'smooth' });
      }
    } else {
      this.$router.push({ name: 'HomeView', hash: '#agence' });
    }
  },
  handleContactClick() {
    this.$emit('menu-item-clicked');
  },
    enterAnimation() {
    gsap.fromTo(this.$refs.burgermenu, {scale: 0}, {
      scale: 1,
      duration: 1,
      ease: 'power3.out',
    });
},
leaveAnimation() {
  gsap.fromTo(this.$refs.burgermenu, {scale: 1}, {
    scale: 0,
    duration: 1,
    ease: 'power3.out',
    onComplete: () => {
      this.$emit('animation-finished');
    }
  });
},
scrollToSection(hash) {
    if (this.$route.name === 'HomeView') {
      const element = document.querySelector(hash);
      if (element) {
        element.scrollIntoView({ behavior: 'smooth' });
      }
    } else {
      this.$router.push({ name: 'HomeView', hash: hash });
    }
  }
  }
};
</script>


  <style lang="scss" scoped>
  @import '../css/variables.scss';

  .burgerMenu {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: absolute;
    background: $secondary-color;
    height: 400px;
    width: 300px;
    top: 18px;
    right: 17px;
    border-radius: 8px;
    color: $primary-color;
    box-sizing: border-box;
    padding: 70px 30px 30px 30px;
    transform-origin: 90% 5%;
    &__nav {
        display: flex;
        flex-direction: column;
        justify-content: center;
        & a {
            font-size: 26px;
            font-weight: 700;
            text-decoration: none;
            color: $primary-color;
        }
        & a:not(:last-child) {
            margin-bottom: 20px;
        }
        & button {
            font-size: 26px;
            font-weight: 700;
            text-decoration: none;
            color: $primary-color;
            width: max-content;
        }
        & button:not(:last-child) {
            margin-bottom: 20px;
        }
    }
    &__reseaux {
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      & a:not(:last-child) {
        margin-right: 20px;
      }
      
    }
    
  }

  @media screen and (max-width: 800px) {
      .burgerMenu {
        right: 4px !important;
      }
    }
  </style>
  